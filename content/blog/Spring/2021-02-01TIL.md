---
title: '[Spring] 스프링 Bean이란?'
date: 2021-02-01 15:04:09
category: Spring
thumbnail: { thumbnailSrc }
draft: false
---

## 🌟 Bean
### 서블릿 컨테이너와 루트 컨테이너
스프링 MVC구동시 서블릿 컨테이너인 WAS가 구동.(톰켓이 그 예시ㅇㅇ) 스프링은 그 위에서 동작
이렇게 구동될때 참조되는 설정파일은 WEB_INF 내의 web.xml -> 얘를 참조하여 루트컨테이너가 생성됨
프로젝트당 하나씩만 생성되는 최상위 부모 컨테이너 - 이 아래에서 서블릿(클라 요청마다 응답보내는 컴포넌트)마다 컨테이너 갖고, 개발자가 만드는 컨테이너까지 해서 총 세종류의 컨테이너가 있음

### 🎯Bean이란?
스프링 컨테이너에서 생성되는 객체를 통칭함
@Component라는 어노테이션으로 스프링 빈 객체에 등록(싱글톤 클래스 빈) == 클래스를 정의했으니 빈으로 등록해줘!라는 뜻
@Configuration + @Bean 조합으로 쓰는 사람도 많다고 한다 XML설정하기 좋아서 그렇게 쓴다나
이걸 확장한 @Controller(웹요청,응답을 처리하는 프레젠테이션 레이어), @Service(내부에서 자바로직 수행하는 서비스레이어), @Repository(DAO같이 외부 IO를 처리하는 퍼시스턴스 레이어) 등도 포함
루트컨테이너에서 웹기술과 관계없는 자원에 대한 것을 빈으로 만들어서 관리 + 전역적인 설정
@Autowired로 빈을 주입시켜주고,서블릿들은 루트에서 관리하는 빈과 설정들중 필요한 것들을 끌어다가 사용하게 됨.

### 🎯SingleTone?
클라이언트가 웹서버에 접속할 시 일반적으로는 클라이언트 한명당 한 스레드를 차지하고,
그 스레드 안에서 객체를 새로 생성해서 접근한다
이렇게 생성된 객체의 크기만큼 서버의 힙 메모리공간에 자리를 차지하게 된다.
스프링에서는 beans를 활용하여 크게 정의를 내려놓은 뒤 해당 자원을 공유하게끔 한다.
이럼으로서 서버의 힙 공간에는 초기 큰 정의를 내린만큼의 공간만 차지하게 된다.
앞서말한 Autowired가 자원공유를 위해 다리를 놔주는거라 생각하면 편하다.


https://happynotepad.tistory.com/57
https://m.blog.naver.com/scw0531/220988401816
https://codevang.tistory.com/258