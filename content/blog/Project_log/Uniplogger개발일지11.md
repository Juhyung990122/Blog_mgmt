---
title: '[Uniplogger]유니플로거 개발일지11'
date: 2020-11-03 23:43:10
category: Project_log
thumbnail: { thumbnailSrc }
draft: false
---

### 🎯깃허브 링크 
개인연습 : https://github.com/Juhyung990122/Yapp_temp
팀 : https://github.com/Yapp-17th/iOS_2_Backend

### 🎯프로젝트 소개 
조깅을 하며 쓰레기를 줍는 '플로깅'에 재미요소를 가미하여 
일상에서 환경운동에 동참할 수 있도록 돕는 앱서비스입니다.

### 🎯진행내역
- 랭크 업데이트 리턴값 퍼센테이지로 변경
- 유저 거리,시간 기반 개인 통계

### 🎯에러로그
**문제 :** 주간개인통계값 최종저장이 안됐습니다.<br>
**해결 :** filter()로 불러온 객체는 list형태로 반환되고, 그에대해서 save()메소드를 제공하지않아 생기는 문제였습니다. 이에 객체를 불러올떄 get()으로 불러오게끔 수정한 뒤 save() 메소드를 사용하였습니다.

**문제 :** 통계값 갱신 불필요한 과정 제거<br>
**해결 :** 처음엔  모든 유저를 불러온 뒤 그 유저의 일주일간 활동을 필터링하여
이를 기반으로 통계값 계산 및 갱신하게끔 하였으나 그주에 활동한 유저만 값을 갱신하면 된다고 생각하여
일주일간 쌓인 피드만 로드한 뒤, 그 피드의 작성자 id를 value_list().distinct()를 활용하여 중복없이 리스트로 저장하고 해당 리스트를 돌면서 통계값 계산 및 갱신을 하도록 수정했습니다. 
